$hold-increment: 3500ms;
$scroll-increment: 100ms;
$second-increment: $hold-increment + $scroll-increment * 2;
$green-text: #2d6878;
$grey-text: #1b1b1b;

@mixin rotation ($animation, $increment, $delay, $opacity: 0, $position: absolute) {
    animation: $animation $increment linear;
    -webkit-animation: $animation $increment linear;
    animation-delay: $delay;
    -webkit-animation-delay: $delay;
    opacity: $opacity;
    overflow: hidden;
    position: $position;
}

@mixin rotation-delay ($delay) {
    animation-delay: $delay;
    -webkit-animation-delay: $delay;
}

@mixin rotation-exit ($animation, $increment, $opacity: 0) {
    animation: fade-out-phrase-part $increment;
    -webkit-animation: fade-out-phrase-part $increment;
    overflow: hidden;
    opacity: $opacity;
}

.hero__headline {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    @media (max-width: $medium-screen) {
        margin: 0;
    }
}

.landing-phrase {
    margin: 0;
    font-weight: bold;
    display: none;
    color: $green-text;
    text-align: center;
    @media (max-width: $medium-screen) {
        text-align: left;
        max-width: rem(400);
        font-size: rem(40);
        line-height: rem(50) !important;
    }
    span {
        line-height: rem(70);
        @media (max-width: $medium-screen) {
            line-height: rem(50) !important;
        }
    }
}

.landing-phrase--entrance-animation {
    display: block !important;
    span {
        @include rotation('fade-in-landing-phrase', $scroll-increment * 10, 0, 1, 'static');
    }
}

.phrase {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    @media (max-width: $medium-screen) {
        width: rem(400);
        justify-content: normal;
    }
    font-size: rem(40);
    font-weight: bold;
    text-align: center;
    color: $green-text;
    @media (min-width: $medium-screen) {
        font-size: rem(56);
    }
}

.phrase span {
    display: block;
    line-height: rem(70);
    @media (max-width: $medium-screen) {
        line-height: rem(50) !important;
        text-align: left;
    }
}

.phrase__intro {
    width: rem(200);
    height: rem(50);
    flex-shrink: 0;
    white-space: nowrap;
    @media (max-width: $medium-screen) {
        text-align: left;
        left: 0;
    }
}

.phrase__intro__item {
    position: relative;
    span {
        position: absolute;
        color: $green-text;
        right: 0;
        @media (max-width: $medium-screen) {
            left: 0;
        }
    }
    @media (max-width: $medium-screen) {
        left: 0;
    }
}

.phrase__intro__item--entrance span {
    @include rotation('scroll-out', $hold-increment + $scroll-increment, 0);
}

.phrase__intro__item--rotation span {
    @include rotation('scroll-in', $second-increment, $hold-increment);
}

.phrase__intro__item--rotation span:nth-child(2){
    @include rotation-delay(($hold-increment + $scroll-increment) * 2);
}

.phrase__intro__item--rotation span:nth-child(3){
    @include rotation-delay(($hold-increment + $scroll-increment) * 3);
}

.phrase__intro__item--rotation span:nth-child(4) {
    @include rotation-delay(($hold-increment + $scroll-increment) * 4);
}

.phrase__static__item {
    span {
        color: $grey-text;
        line-height: rem(70);
    }
}

.phrase__end {
    width: 300px;
    flex-shrink: 0;
    white-space: nowrap;
    flex-wrap: wrap;
    @media (max-width: $medium-screen) {
        display: block;
    }
}

.phrase__end__item {
    position: absolute;
    color: $green-text;
    @media (min-width: $large-screen) {
        white-space: nowrap;
    }
}

.phrase__end__item--entrance span {
    @include rotation('scroll-out', $hold-increment + $scroll-increment * 4,  $scroll-increment * 2);
}

.phrase__end__item--rotation span {
    @include rotation('scroll-in', $second-increment + $scroll-increment * 4, $hold-increment + $scroll-increment*4);
}

.phrase__end__item--rotation span:nth-child(2) {
    @include rotation-delay(($hold-increment + $scroll-increment*4) * 2);
}

.phrase__end__item--rotation span:nth-child(3) {
    @include rotation-delay(($hold-increment + $scroll-increment*4) * 3);
}

.phrase__end__item--rotation span:nth-child(4) {
    @include rotation-delay(($hold-increment + $scroll-increment*4) * 4);
}

.phrase--exit-animation {
    @include rotation-exit('fade-out-phrase-part', $scroll-increment * 8, 0);
}

@keyframes fade-in-landing-phrase {
    0% { opacity: 0; vibility: hidden; }
    75% { opacity: 0; vibility: hidden; }
    80% { opacity: 1; vibility: visible; }
    100% { opacity: 1; vibility: visible; }
}

@keyframes fade-out-phrase-part {
    0% { opacity: 1 }
    30% { opacity: 1 }
    100% { opacity: 0 }

}

@-moz-keyframes scroll-out {
    0% { opacity: 1; -moz-transform: translateY(0px); }
    90% { opacity: 1; -moz-transform: translateY(0px); }
    100% { opacity: 0; -moz-transform: translateY(-25px); }
}

@-webkit-keyframes scroll-out {
    0% { opacity: 1; -webkit-transform: translateY(0px); }
    90% { opacity: 1; -webkit-transform: translateY(0px); }
    100% { opacity: 0; -webkit-transform: translateY(-25px); }
}

@-moz-keyframes scroll-in {
    0% { opacity: 1; -moz-transform: translateY(25px); }
    10% { opacity: 1; -moz-transform: translateY(0px); }
    90% { opacity: 1; -moz-transform: translateY(0px); }
    100% { opacity: 0; -moz-transform: translateY(-25px); }
}

@-webkit-keyframes scroll-in {
    0% { opacity: 1; -webkit-transform: translateY(75px); }
    10% { opacity: 1; -webkit-transform: translateY(0px); }
    90% { opacity: 1; -webkit-transform: translateY(0px); }
    100% { opacity: 0; -webkit-transform: translateY(-25px); }
}

@-webkit-keyframes scroll-and-hold {
    0% { opacity: 1; -webkit-transform: translateY(75px); }
    10% { opacity: 1; -webkit-transform: translateY(0px); }
    100% { opacity: 1; -webkit-transform: translateY(0px); }
}
